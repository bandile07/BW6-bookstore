<process-dir height="1975" id="tibco.bw.sample.binding.rest.bookstore.Books" name="tibco.bw.sample.binding.rest.bookstore.Books" type="process" width="665" x="140" y="20">
    <partnerLinks>
        <partner-link id="Books" myRole="use" name="Books" partnerLinkType="BooksPLT" partnerType="bw.rest"/>
        <partner-link id="Service" name="Service" partnerLinkType="ServicePLT" partnerRole="use"/>
        <partner-link id="Book" myRole="use" name="Book" partnerLinkType="BookPLT" partnerType="bw.rest"/>
        <partner-link id="Book1" myRole="use" name="Book1" partnerLinkType="Book1PLT" partnerType="bw.rest"/>
        <partner-link id="Service1" name="Service1" partnerLinkType="ServicePLT1" partnerRole="use"/>
        <partner-link id="booksbyprice" myRole="use" name="booksbyprice" partnerLinkType="partnerLinkType" partnerType="bw.rest"/>
    </partnerLinks>
    <ProcessInfo createdBy="nshah" createdOn="Mon Sep 29 16:48:12 IST 2014" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="1.2.0 V18 2014-09-27" scalable="true" singleton="true" stateless="true" type="IT"/>
    <pick collapse="false" createInstance="true" height="1926" id="5f49b21c-321a-4f55-9510-9e3332ce4d41" name="pick" type="pick" width="513" x="76" y="44">
        <on-message collapse="true" height="21" id="765ba4ee-cb39-4ba6-a425-47056c8cce68" input="true" operation="post" output="true" partner-link="Books" portType="Books" type="onMessage" variable="post" width="495" x="9" y="11">
            <activity-dir height="16" id="c7ff3d8c-f94d-4eb8-8ae5-fd1690826565" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="2ae696c7-7bb9-4a0e-a5cb-7afe8e9145ab" name="postOut" operation="post" partnerLink="Books" portType="Books" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="postOut-input" width="48" x="303" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;addBooks&quot;/&gt;&lt;xsl:template name=&quot;postOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:postResponse&gt;&lt;item&gt;&lt;xsl:copy-of select=&quot;$addBooks/parameters/tns1:Books&quot;/&gt;&lt;/item&gt;&lt;/tns:postResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;addBooks.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;postOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$addBooks.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="af53e8ba-ac9e-4545-8dc8-eafbdbd0bb4c" label="" linkType="SUCCESS" name="addBooksTopostOut" points="[[190,58],[303,58]]" source="1f78fb07-d026-4f0a-806c-fc6298d9ee2f" target="2ae696c7-7bb9-4a0e-a5cb-7afe8e9145ab"/>
            <activity-dir height="48" id="1f78fb07-d026-4f0a-806c-fc6298d9ee2f" inputVariable="addBooks-input" name="addBooks" outputVariable="addBooks" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="141" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;post&quot;/&gt;&lt;xsl:template name=&quot;addBooks-input&quot; match=&quot;/&quot;&gt;&lt;tns:addBooksRequest&gt;&lt;parameters&gt;&lt;tns:addBooksRequest&gt;&lt;xsl:copy-of select=&quot;$post/item/tns1:Books/tns1:Book&quot;/&gt;&lt;/tns:addBooksRequest&gt;&lt;/parameters&gt;&lt;/tns:addBooksRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;post.item&quot;/&gt;&#10;    &lt;xsl:template name=&quot;addBooks-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:addBooksRequest&gt;&#10;            &lt;xsl:copy-of select=&quot;$post.item/tns1:Book&quot;/&gt;&#10;        &lt;/tns:addBooksRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="21" id="9de17daa-8eca-43df-bd2a-cf9ea1e0ff7e" type="catchAll" width="54" x="37" y="51">
                <link-dir id="924b0f02-8ab8-4ed0-ba78-7ac20aac2801" label="" linkType="SUCCESS" name="LogToReply" points="[[116,66],[197,66]]" source="fc115440-6d6b-4e26-b2ad-980b8483a5a5" target="3ede2e9e-5dcf-473f-a9de-1924136a3862"/>
                <activity-dir height="48" id="fc115440-6d6b-4e26-b2ad-980b8483a5a5" name="Log" type="bw.generalactivities.log" width="48" x="67" y="42">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="3ede2e9e-5dcf-473f-a9de-1924136a3862" name="Reply" operation="post" partnerLink="Books" portType="Books" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply-input" width="48" x="197" y="42">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&lt;tns:post5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:post5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="7a06679f-2a12-468e-86fc-bdf1ead928fb" name="OnMessageEnd" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="255" id="ad0b55a8-62da-4c73-8460-21fc92601cb8" input="true" operation="get" output="true" partner-link="Books" portType="Books" type="onMessage" variable="get" width="495" x="9" y="32">
            <activity-dir height="16" id="3bd1c454-1759-439b-bdf9-3e2577f54c12" name="OnMessageStart1" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="58c95b38-cc6e-4da7-9464-1b7485c1f030" name="getOut" operation="get" partnerLink="Books" portType="Books" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getAllBooks&quot;/&gt;&lt;xsl:template name=&quot;getOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getResponse&gt;&lt;item&gt;&lt;xsl:copy-of select=&quot;$getAllBooks/parameters/tns1:Books&quot;/&gt;&lt;/item&gt;&lt;/tns:getResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getAllBooks.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$getAllBooks.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="46922784-7405-40b2-83e6-6c3353988415" label="" linkType="SUCCESS" name="getAllBooksTogetOut" points="[[194,58],[308,58]]" source="c910153a-cfc5-4b8d-86f9-7cb7e2902137" target="58c95b38-cc6e-4da7-9464-1b7485c1f030"/>
            <activity-dir height="48" id="c910153a-cfc5-4b8d-86f9-7cb7e2902137" inputVariable="getAllBooks-input" name="getAllBooks" outputVariable="getAllBooks" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="145" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&lt;xsl:template name=&quot;getAllBooks-input&quot; match=&quot;/&quot;&gt;&lt;tns:getAllBooksRequest&gt;&lt;parameters&gt;&lt;tns:getAllBooksRequest&gt;&lt;in&gt;&lt;xsl:value-of select=&quot;&amp;quot;Get All Books&amp;quot;&quot;/&gt;&lt;/in&gt;&lt;/tns:getAllBooksRequest&gt;&lt;/parameters&gt;&lt;/tns:getAllBooksRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;getAllBooks-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:getAllBooksRequest&gt;&#10;            &lt;in&gt;&#10;                &lt;xsl:value-of select=&quot;&amp;quot;Get All Books&amp;quot;&quot;/&gt;&#10;            &lt;/in&gt;&#10;        &lt;/tns:getAllBooksRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="21" id="c69d2365-9204-48b2-82b3-0977810fb916" type="catchAll" width="394" x="42" y="244">
                <link-dir id="0830677f-392c-4992-b7cc-379ecd4efd54" label="" linkType="SUCCESS" name="Log1ToReply1" points="[[116,68],[190,68]]" source="d3c40cda-9353-4550-973b-4737251b1a61" target="9548838a-7e50-4e42-b9b3-b626a55758a4"/>
                <activity-dir height="48" id="d3c40cda-9353-4550-973b-4737251b1a61" name="Log1" type="bw.generalactivities.log" width="48" x="67" y="44">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="9548838a-7e50-4e42-b9b3-b626a55758a4" name="Reply1" operation="get" partnerLink="Books" portType="Books" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply1-input" width="48" x="190" y="44">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&lt;tns:get5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:get5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="a26d8c83-dab0-4728-84c1-6a98090f0139" name="OnMessageEnd1" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="329" id="499d96bc-f049-4ff0-b710-9071c8057a25" input="true" operation="get" output="true" partner-link="Book" portType="Book" type="onMessage" variable="get1" width="495" x="9" y="298">
            <activity-dir height="16" id="582319c7-4f27-4d54-940f-b32c9c04924e" name="OnMessageStart2" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="3789cd6b-ee3a-4630-8770-242b22778ef4" name="getOut1" operation="get" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getOut1-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBookByISBN&quot;/&gt;&lt;xsl:template name=&quot;getOut1-input&quot; match=&quot;/&quot;&gt;&lt;tns:getResponse1&gt;&lt;item&gt;&lt;xsl:copy-of select=&quot;$getBookByISBN/parameters/tns1:Book&quot;/&gt;&lt;/item&gt;&lt;/tns:getResponse1&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBookByISBN.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getOut1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$getBookByISBN.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="9c32c14d-cd12-4e5e-affd-de4bc6b8f4c1" label="" linkType="SUCCESS" name="getBookByISBNTogetOut1" points="[[194,58],[308,58]]" source="c01e7815-79c3-4348-9e5c-7a1298c25654" target="3789cd6b-ee3a-4630-8770-242b22778ef4"/>
            <activity-dir height="48" id="c01e7815-79c3-4348-9e5c-7a1298c25654" inputVariable="getBookByISBN-input" name="getBookByISBN" outputVariable="getBookByISBN" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="145" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;get1&quot;/&gt;&lt;xsl:template name=&quot;getBookByISBN-input&quot; match=&quot;/&quot;&gt;&lt;tns:getBookByISBNRequest&gt;&lt;parameters&gt;&lt;tns:getBookByISBNRequest&gt;&lt;ISBN&gt;&lt;xsl:value-of select=&quot;$get1/parameters/tns1:BookParameters/ISBN&quot;/&gt;&lt;/ISBN&gt;&lt;/tns:getBookByISBNRequest&gt;&lt;/parameters&gt;&lt;/tns:getBookByISBNRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get1.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getBookByISBN-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:getBookByISBNRequest&gt;&#10;            &lt;ISBN&gt;&#10;                &lt;xsl:value-of select=&quot;$get1.parameters/ISBN&quot;/&gt;&#10;            &lt;/ISBN&gt;&#10;        &lt;/tns:getBookByISBNRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="21" id="e96b160c-b69e-42ab-a07e-69a653b981c6" type="catchAll" width="394" x="42" y="318">
                <link-dir id="dc992b92-f068-487f-a85a-fe4e2664e98e" label="" linkType="SUCCESS" name="Log2ToReply2" points="[[116,66],[192,66]]" source="b5867d78-38f6-4282-acb3-e9feaeba7121" target="491fc446-b9fb-4b7e-933c-f5a7e87e33df"/>
                <activity-dir height="48" id="b5867d78-38f6-4282-acb3-e9feaeba7121" name="Log2" type="bw.generalactivities.log" width="48" x="67" y="42">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log2-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Log2-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="491fc446-b9fb-4b7e-933c-f5a7e87e33df" name="Reply2" operation="get" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply2-input" width="48" x="192" y="42">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:template name=&quot;Reply2-input&quot; match=&quot;/&quot;&gt;&lt;tns:post5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:post5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply2-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="2397cb0c-106b-4184-a2a6-da8b2ee1cc64" name="OnMessageEnd2" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="333" id="82b76645-d722-4291-8e34-36cb487a6978" input="true" operation="put" output="true" partner-link="Book" portType="Book" type="onMessage" variable="put" width="495" x="9" y="638">
            <activity-dir height="16" id="c8fb5497-94b3-45b4-b2f8-ec017c7f04fd" name="OnMessageStart3" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="ef77b289-fefe-4894-947d-5cf28eb26de7" name="putOut" operation="put" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="putOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateBook&quot;/&gt;&lt;xsl:template name=&quot;putOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:putResponse&gt;&lt;item&gt;&lt;xsl:copy-of select=&quot;$updateBook/parameters/tns1:Book&quot;/&gt;&lt;/item&gt;&lt;/tns:putResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;putOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$updateBook.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="bf22179c-738f-4354-be37-f486daef5049" label="" linkType="SUCCESS" name="updateBookToputOut" points="[[205,58],[308,58]]" source="a25714b4-75ca-48a1-9da4-ba70bfc1f328" target="ef77b289-fefe-4894-947d-5cf28eb26de7"/>
            <activity-dir height="48" id="a25714b4-75ca-48a1-9da4-ba70bfc1f328" inputVariable="updateBook-input" name="updateBook" outputVariable="updateBook" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="156" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; xmlns:tns2=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;put&quot;/&gt;&lt;xsl:template name=&quot;updateBook-input&quot; match=&quot;/&quot;&gt;&lt;tns:updateBookRequest&gt;&lt;parameters&gt;&lt;tns2:Book&gt;&lt;tns2:isbn&gt;&lt;xsl:value-of select=&quot;$put/parameters/tns1:BookParameters/ISBN&quot;/&gt;&lt;/tns2:isbn&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:name&quot;&gt;&lt;tns2:name&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:name&quot;/&gt;&lt;/tns2:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:description&quot;&gt;&lt;tns2:description&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:description&quot;/&gt;&lt;/tns2:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:authorName&quot;&gt;&lt;tns2:authorName&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:authorName&quot;/&gt;&lt;/tns2:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:releaseDate&quot;&gt;&lt;tns2:releaseDate&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:releaseDate&quot;/&gt;&lt;/tns2:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:vintage&quot;&gt;&lt;tns2:vintage&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:vintage&quot;/&gt;&lt;/tns2:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:signed&quot;&gt;&lt;tns2:signed&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:signed&quot;/&gt;&lt;/tns2:signed&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$put/item/tns2:Book/tns2:price&quot;&gt;&lt;tns2:price&gt;&lt;xsl:value-of select=&quot;$put/item/tns2:Book/tns2:price&quot;/&gt;&lt;/tns2:price&gt;&lt;/xsl:if&gt;&lt;/tns2:Book&gt;&lt;/parameters&gt;&lt;/tns:updateBookRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; xmlns:tns2=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;put.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;put.item&quot;/&gt;&#10;    &lt;xsl:template name=&quot;updateBook-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:Book&gt;&#10;            &lt;tns2:isbn&gt;&#10;                &lt;xsl:value-of select=&quot;$put.parameters/ISBN&quot;/&gt;&#10;            &lt;/tns2:isbn&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:name&quot;&gt;&#10;                &lt;tns2:name&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:name&quot;/&gt;&#10;                &lt;/tns2:name&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:description&quot;&gt;&#10;                &lt;tns2:description&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:description&quot;/&gt;&#10;                &lt;/tns2:description&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:authorName&quot;&gt;&#10;                &lt;tns2:authorName&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:authorName&quot;/&gt;&#10;                &lt;/tns2:authorName&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:releaseDate&quot;&gt;&#10;                &lt;tns2:releaseDate&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:releaseDate&quot;/&gt;&#10;                &lt;/tns2:releaseDate&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:vintage&quot;&gt;&#10;                &lt;tns2:vintage&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:vintage&quot;/&gt;&#10;                &lt;/tns2:vintage&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:signed&quot;&gt;&#10;                &lt;tns2:signed&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:signed&quot;/&gt;&#10;                &lt;/tns2:signed&gt;&#10;            &lt;/xsl:if&gt;&#10;            &lt;xsl:if test=&quot;$put.item/tns2:price&quot;&gt;&#10;                &lt;tns2:price&gt;&#10;                    &lt;xsl:value-of select=&quot;$put.item/tns2:price&quot;/&gt;&#10;                &lt;/tns2:price&gt;&#10;            &lt;/xsl:if&gt;&#10;        &lt;/tns2:Book&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="21" id="0a443d17-47ed-4cf2-8963-880c539ca226" type="catchAll" width="394" x="42" y="322">
                <link-dir id="c38fff29-a11d-460d-b402-b0100ed881c0" label="" linkType="SUCCESS" name="Log3ToReply3" points="[[116,56],[191,56]]" source="a83c7a3e-ec1c-408e-b870-c856996bcda3" target="fa90c850-ede4-4b5e-a6aa-0ab4f6fe3ee3"/>
                <activity-dir height="48" id="a83c7a3e-ec1c-408e-b870-c856996bcda3" name="Log3" type="bw.generalactivities.log" width="48" x="67" y="32">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log3-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log3-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="fa90c850-ede4-4b5e-a6aa-0ab4f6fe3ee3" name="Reply3" operation="put" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply3-input" width="48" x="191" y="32">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply3-input&quot; match=&quot;/&quot;&gt;&lt;tns:put5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:put5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply3-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="23f9a069-64bb-4b69-b03f-4f5d6a295350" name="OnMessageEnd3" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="352" id="9751e712-f530-45b1-bf19-f98724980709" input="true" operation="delete" output="true" partner-link="Book" portType="Book" type="onMessage" variable="delete" width="495" x="9" y="982">
            <activity-dir height="16" id="a85cce64-e7a5-4be8-97b4-380e5981efaf" name="OnMessageStart4" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="b448da24-a0ee-4fef-8178-96e6d77c54f1" name="deleteOut" operation="delete" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="deleteOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;deleteBook&quot;/&gt;&lt;xsl:template name=&quot;deleteOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:deleteResponse&gt;&lt;msg&gt;&lt;xsl:value-of select=&quot;$deleteBook/parameters/tns1:deleteBookResponse/out&quot;/&gt;&lt;/msg&gt;&lt;/tns:deleteResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;deleteBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;msg&gt;&#10;            &lt;xsl:value-of select=&quot;$deleteBook.parameters/out&quot;/&gt;&#10;        &lt;/msg&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="f13b5d96-7d92-46f7-96ac-99d4cc3ecbda" label="" linkType="SUCCESS" name="deleteBookTodeleteOut" points="[[202,58],[308,58]]" source="444610bd-8a0c-42aa-a396-7ba906c777cb" target="b448da24-a0ee-4fef-8178-96e6d77c54f1"/>
            <activity-dir height="48" id="444610bd-8a0c-42aa-a396-7ba906c777cb" inputVariable="deleteBook-input" name="deleteBook" outputVariable="deleteBook" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="153" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;delete&quot;/&gt;&lt;xsl:template name=&quot;deleteBook-input&quot; match=&quot;/&quot;&gt;&lt;tns:deleteBookRequest&gt;&lt;parameters&gt;&lt;tns:deleteBookRequest&gt;&lt;ISBN&gt;&lt;xsl:value-of select=&quot;$delete/parameters/tns1:BookParameters/ISBN&quot;/&gt;&lt;/ISBN&gt;&lt;/tns:deleteBookRequest&gt;&lt;/parameters&gt;&lt;/tns:deleteBookRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;delete.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteBook-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:deleteBookRequest&gt;&#10;            &lt;ISBN&gt;&#10;                &lt;xsl:value-of select=&quot;$delete.parameters/ISBN&quot;/&gt;&#10;            &lt;/ISBN&gt;&#10;        &lt;/tns:deleteBookRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="21" id="67c1497d-3b02-4bd0-84a2-6fd5d1a980bc" type="catchAll" width="394" x="42" y="341">
                <link-dir id="e29685c7-dd5a-4ae3-9fff-a6c07d4e1da3" label="" linkType="SUCCESS" name="Log4ToReply4" points="[[116,77],[178,77]]" source="c9fb2654-b4cf-4413-b56b-3e88b8fc9655" target="b41dc7e0-0091-428b-948d-d05a90367941"/>
                <activity-dir height="48" id="c9fb2654-b4cf-4413-b56b-3e88b8fc9655" name="Log4" type="bw.generalactivities.log" width="48" x="67" y="53">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log4-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log4-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="b41dc7e0-0091-428b-948d-d05a90367941" name="Reply4" operation="delete" partnerLink="Book" portType="Book" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply4-input" width="48" x="178" y="53">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply4-input&quot; match=&quot;/&quot;&gt;&lt;tns:delete5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:delete5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply4-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="d33059f0-b8ba-487e-a885-eea6c49cfb5f" name="OnMessageEnd4" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="205" id="7d668ee6-cb82-45ca-9ffb-b7b41731d438" input="true" operation="get" output="true" partner-link="Book1" portType="Book1" type="onMessage" variable="get2" width="495" x="9" y="1345">
            <activity-dir height="16" id="c37a4743-2641-4e68-99d2-9499d966775b" name="OnMessageStart5" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="204694ab-d819-495b-ab49-6517fcd754c8" name="getOut2" operation="get" partnerLink="Book1" portType="Book1" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getOut2-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; xmlns:tns2=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getEventByISBN&quot;/&gt;&lt;xsl:template name=&quot;getOut2-input&quot; match=&quot;/&quot;&gt;&lt;tns:getResponse2&gt;&lt;item&gt;&lt;xsl:copy-of select=&quot;$getEventByISBN/parameters/tns2:Events&quot;/&gt;&lt;/item&gt;&lt;/tns:getResponse2&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; xmlns:tns2=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getEventByISBN.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getOut2-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$getEventByISBN.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="1ec54d98-c412-4dde-86a1-9b045b77d037" label="" linkType="SUCCESS" name="getEventByISBNTogetOut2" points="[[193,58],[308,58]]" source="bbe0915e-e4e6-4dad-88f8-2f3484fc2c47" target="204694ab-d819-495b-ab49-6517fcd754c8"/>
            <activity-dir height="48" id="bbe0915e-e4e6-4dad-88f8-2f3484fc2c47" inputVariable="getEventByISBN-input" name="getEventByISBN" outputVariable="getEventByISBN" partnerLink="Service1" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="144" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;get2&quot;/&gt;&lt;xsl:template name=&quot;getEventByISBN-input&quot; match=&quot;/&quot;&gt;&lt;tns:getEventByISBNRequest&gt;&lt;parameters&gt;&lt;tns:getEventByISBNRequest&gt;&lt;ISBN&gt;&lt;xsl:value-of select=&quot;$get2/parameters/tns1:Book1Parameters/ISBN&quot;/&gt;&lt;/ISBN&gt;&lt;/tns:getEventByISBNRequest&gt;&lt;/parameters&gt;&lt;/tns:getEventByISBNRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Books/REST/1411989492608/ConceptSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get2.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getEventByISBN-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:getEventByISBNRequest&gt;&#10;            &lt;ISBN&gt;&#10;                &lt;xsl:value-of select=&quot;$get2.parameters/ISBN&quot;/&gt;&#10;            &lt;/ISBN&gt;&#10;        &lt;/tns:getEventByISBNRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <catch-all collapse="true" faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="19" id="782f0e23-604b-476d-bf01-6ebc6d37270c" type="catchAll" width="394" x="42" y="196">
                <link-dir id="cd638a75-936a-41e0-b903-830574d9ea93" label="" linkType="SUCCESS" name="Log5ToReply5" points="[[116,75],[193,75]]" source="6626a3cd-beef-467e-9372-0f26e3ee91a6" target="c8d538f7-717f-4844-9196-b8ab3e124738"/>
                <activity-dir height="48" id="6626a3cd-beef-467e-9372-0f26e3ee91a6" name="Log5" type="bw.generalactivities.log" width="48" x="67" y="51">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log5-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Log5-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInput&gt;&lt;msgCode&gt;&lt;xsl:value-of select=&quot;&amp;quot;1503&amp;quot;&quot;/&gt;&lt;/msgCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                                <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <activity-dir height="48" id="c8d538f7-717f-4844-9196-b8ab3e124738" name="Reply5" operation="get" partnerLink="Book1" portType="Book1" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply5-input" width="48" x="193" y="51">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&lt;xsl:template name=&quot;Reply5-input&quot; match=&quot;/&quot;&gt;&lt;tns:get5XXFaultMessage2&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:get5XXFaultMessage2&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books/REST/1411989492608&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;ServiceOp&quot;/&gt;&#10;    &lt;xsl:param name=&quot;FaultDetails&quot;/&gt;&#10;    &lt;xsl:template name=&quot;Reply5-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:integer(bw:getModuleProperty(&amp;quot;ec_ServiceUnavailable&amp;quot;))&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat($ServiceOp, &amp;quot; failed: &amp;quot;, $FaultDetails/Msg)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="5ac75116-38e4-4c78-9b48-c4d6fa2bf136" name="OnMessageEnd5" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
        <on-message height="367" id="0e7539ea-8bf0-419a-9f5e-a6c69f1f44a2" input="true" operation="get" output="true" partner-link="booksbyprice" portType="booksbyprice" type="onMessage" variable="get3" width="495" x="9" y="1550">
            <activity-dir height="16" id="76581c93-a0fc-403e-ba9a-0d73dab28e08" name="OnMessageStart6" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="ab38ac02-43e9-402c-ac9d-8a87a4a5211d" name="getOut3" operation="get" partnerLink="booksbyprice" portType="booksbyprice" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getOut3-input" width="48" x="312" y="54">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929164812PLT&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooksByPrice&quot;/&gt;&lt;xsl:template name=&quot;getOut3-input&quot; match=&quot;/&quot;&gt;&lt;tns:getResponse&gt;&lt;item&gt;&lt;tns1:BookArray&gt;&lt;xsl:copy-of select=&quot;$getBooksByPrice/parameters/tns1:getBooksByPriceResponse/tns1:Book&quot;/&gt;&lt;/tns1:BookArray&gt;&lt;/item&gt;&lt;/tns:getResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929164812PLT&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBooksByPrice.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getOut3-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:BookArray&gt;&#10;            &lt;xsl:copy-of select=&quot;$getBooksByPrice.parameters/tns1:Book&quot;/&gt;&#10;        &lt;/tns1:BookArray&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="8a29d727-5b59-45fc-a708-92db7590ead9" label="" linkType="SUCCESS" name="getBooksByPriceTogetOut3" points="[[176,78],[312,78]]" source="9bcc9ab4-fc23-4ac2-9de6-6466ef437288" target="ab38ac02-43e9-402c-ac9d-8a87a4a5211d"/>
            <activity-dir height="48" id="9bcc9ab4-fc23-4ac2-9de6-6466ef437288" inputVariable="getBooksByPrice-input" name="getBooksByPrice" outputVariable="getBooksByPrice" partnerLink="Service" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Invoke" width="48" x="127" y="54">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/Books/parameters&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns2=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;get3&quot;/&gt;&lt;xsl:template name=&quot;getBooksByPrice-input&quot; match=&quot;/&quot;&gt;&lt;tns1:getBooksByPriceRequest&gt;&lt;parameters&gt;&lt;tns2:getBooksByPriceRequest&gt;&lt;tns2:in&gt;&lt;xsl:value-of select=&quot;$get3/parameters/tns:booksbypriceGetParameters/tns:price&quot;/&gt;&lt;/tns2:in&gt;&lt;/tns2:getBooksByPriceRequest&gt;&lt;/parameters&gt;&lt;/tns1:getBooksByPriceRequest&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/Books/parameters&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns2=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get3.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getBooksByPrice-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:getBooksByPriceRequest&gt;&#10;            &lt;tns2:in&gt;&#10;                &lt;xsl:value-of select=&quot;$get3.parameters/tns:price&quot;/&gt;&#10;            &lt;/tns2:in&gt;&#10;        &lt;/tns2:getBooksByPriceRequest&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <activity-dir height="16" id="fa9eb3ee-bcbb-4dac-b7e0-b1d1307cb976" name="OnMessageEnd6" type="onMessageEnd" width="16" x="493" y="63"/>
        </on-message>
    </pick>
</process-dir>

<process-dir height="1731" id="tibco.bw.sample.binding.rest.bookstore.db.BooksDB" name="tibco.bw.sample.binding.rest.bookstore.db.BooksDB" type="process" width="773" x="140" y="20">
    <partnerLinks>
        <partner-link id="BooksPersist" myRole="use" name="BooksPersist" partnerLinkType="ServicePLT"/>
    </partnerLinks>
    <ProcessInfo createdBy="nshah" createdOn="Mon Sep 29 14:02:36 IST 2014" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="1.2.0 V18 2014-09-27" scalable="true" singleton="true" stateless="false" type="IT"/>
    <pick collapse="false" createInstance="true" height="1682" id="b146ad2c-11de-42ea-8cf4-964d132106d0" name="pick" type="pick" width="621" x="76" y="44">
        <on-message height="310" id="8be8e496-c719-4eb0-8b3e-747aa28d3d7a" input="true" operation="addBooks" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="addBooks" width="603" x="9" y="11">
            <link-dir id="200a80d8-65d8-4a4a-822b-a599ec516280" label="" linkType="SUCCESS" name="OnMessageStartToAssign" points="[[1,71],[38,71],[38,112],[63,112]]" source="f22acfca-dc29-453e-bd23-246f83c45499" target="c63d303c-7b13-4ced-ad5d-66df06564f5a"/>
            <activity-dir height="16" id="f22acfca-dc29-453e-bd23-246f83c45499" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="84d8fa4d-40b7-44d5-b1b2-2d1a3da4e897" name="addBooksOut" operation="addBooks" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="addBooksOut-input" width="48" x="415" y="80">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;addBooks&quot;/&gt;&lt;xsl:template name=&quot;addBooksOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:addBooksResponse&gt;&lt;parameters&gt;&lt;tns1:Books&gt;&lt;xsl:copy-of select=&quot;$addBooks/parameters/tns:addBooksRequest/tns1:Book&quot;/&gt;&lt;/tns1:Books&gt;&lt;/parameters&gt;&lt;/tns:addBooksResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;addBooks.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;addBooksOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Books&gt;&#10;            &lt;xsl:copy-of select=&quot;$addBooks.parameters/tns1:Book&quot;/&gt;&#10;        &lt;/tns1:Books&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="f2b0b1c2-b308-4516-9d2d-1a4cba6c6093" label="" linkType="SUCCESS" name="AssignToForEach" points="[[112,112],[143,112]]" source="c63d303c-7b13-4ced-ad5d-66df06564f5a" target="065ef81b-7278-43ee-93fd-be01af3cfdf9"/>
            <activity-dir height="48" id="c63d303c-7b13-4ced-ad5d-66df06564f5a" name="Assign" type="bw.generalactivities.bwassign" width="48" x="63" y="88">
                <inputBinding expression="count($addBooks/parameters/ns1:addBooksRequest/tns:Book)"/>
                <partBinding expression="count($addBooks.parameters/tns:Book)"/>
                <BWActivity activityTypeID="bw.generalactivities.bwassign">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                            <value processVariable="BookCnt" type="generalactivities:BWAssign"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="2de05eed-0ae8-45e6-9250-8d1168a7d3a6" label="" linkType="SUCCESS" name="ForEachToaddBooksOut" points="[[321,104],[415,104]]" source="065ef81b-7278-43ee-93fd-be01af3cfdf9" target="84d8fa4d-40b7-44d5-b1b2-2d1a3da4e897"/>
            <scope collapse="false" group="foreach" height="130" id="065ef81b-7278-43ee-93fd-be01af3cfdf9" name="ForEach" type="bpel.scope" width="177" x="143" y="39">
                <forEach counterName="index" parallel="false">
                    <startCounterValue/>
                    <finalCounterValue/>
                </forEach>
                <link-dir id="bc49304d-fdfe-4dd9-a55f-cd0d13167a0e" label="" linkType="SUCCESS" name="JDBCUpdateToGroupEnd" points="[[114,70],[165,70]]" source="61f76f17-e519-4c59-a608-07f138a8479a" target="670f6a12-a340-43c2-bc91-4275e16bbd2c"/>
                <activity-dir height="48" id="61f76f17-e519-4c59-a608-07f138a8479a" name="addBooks" type="bw.jdbc.update" width="48" x="65" y="46">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+61f76f17-e519-4c59-a608-07f138a8479a+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:tns2=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;index&quot;/&gt;&lt;xsl:param name=&quot;addBooks&quot;/&gt;&lt;xsl:template name=&quot;addBooks-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;isbn&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:isbn)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:isbn&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/isbn&gt;&lt;name&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:name)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:name&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/name&gt;&lt;description&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:description)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:description&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/description&gt;&lt;authorName&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:authorName)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:authorName&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/authorName&gt;&lt;releaseDate&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:releaseDate)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:releaseDate&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/releaseDate&gt;&lt;vintage&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:vintage)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:vintage&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/vintage&gt;&lt;signed&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:signed)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:signed&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/signed&gt;&lt;price&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:price)&quot;&gt;&lt;xsl:value-of select=&quot;$addBooks/parameters/tns2:addBooksRequest/tns1:Book[$index]/tns1:price&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/price&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+61f76f17-e519-4c59-a608-07f138a8479a+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:tns2=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;addBooks.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;index&quot;/&gt;&#10;    &lt;xsl:template name=&quot;addBooks-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:isbn)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:isbn&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/isbn&gt;&#10;            &lt;name&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:name)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:name&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/name&gt;&#10;            &lt;description&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:description)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:description&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/description&gt;&#10;            &lt;authorName&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:authorName)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:authorName&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/authorName&gt;&#10;            &lt;releaseDate&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:releaseDate)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:releaseDate&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/releaseDate&gt;&#10;            &lt;vintage&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:vintage)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:vintage&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/vintage&gt;&#10;            &lt;signed&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:signed)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:signed&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/signed&gt;&#10;            &lt;price&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addBooks.parameters/tns1:Book[$index]/tns1:price)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addBooks.parameters/tns1:Book[$index]/tns1:price&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/price&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.jdbc.update">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                                <value sharedResourceProperty="jdbcProperty" sqlStatement="INSERT INTO book (isbn, name, description, authorName,&#10;  releaseDate, vintage, signed, price)&#10;  VALUES (?, ?, ?, ?, ?, ?, ?, ?)" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="name"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="description"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="authorName"/>
                                    <PreparedParameters DataType="91" DataTypeDisplayValue="DATE" ParameterName="releaseDate"/>
                                    <PreparedParameters DataType="-7" DataTypeDisplayValue="BIT" ParameterName="vintage"/>
                                    <PreparedParameters DataType="-7" DataTypeDisplayValue="BIT" ParameterName="signed"/>
                                    <PreparedParameters DataType="8" DataTypeDisplayValue="DOUBLE" ParameterName="price"/>
                                </value>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <link-dir id="bf696150-b9bf-44d8-a190-716bc7968125" label="" linkType="SUCCESS" name="GroupStartToJDBCUpdate" points="[[13,70],[65,70]]" source="32c88cb0-7b6f-4599-8c55-63c9cd0c802e" target="61f76f17-e519-4c59-a608-07f138a8479a"/>
                <activity-dir height="16" id="32c88cb0-7b6f-4599-8c55-63c9cd0c802e" name="GroupStart" type="groupStart" width="16" x="-7" y="62"/>
                <activity-dir height="16" id="670f6a12-a340-43c2-bc91-4275e16bbd2c" name="GroupEnd" type="groupEnd" width="16" x="169" y="62"/>
            </scope>
            <activity-dir height="16" id="db1e39ef-5906-4d85-9a4d-709261410768" name="OnMessageEnd" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="154" id="7e404254-d052-43f9-b890-b654fa43f419" input="true" operation="getAllBooks" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="getAllBooks" width="603" x="9" y="321">
            <activity-dir height="16" id="00c97cfe-9655-4f44-93a2-745d4be182d2" name="OnMessageStart1" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="15cf376e-a658-4457-92bf-cc25c1606497" name="getAllBooksOut" operation="getAllBooks" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getAllBooksOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooks&quot;/&gt;&lt;xsl:template name=&quot;getAllBooksOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getAllBooksResponse&gt;&lt;parameters&gt;&lt;tns1:Books&gt;&lt;xsl:for-each select=&quot;$getBooks/Record&quot;&gt;&lt;tns1:Book&gt;&lt;xsl:if test=&quot;isbn&quot;&gt;&lt;tns1:isbn&gt;&lt;xsl:value-of select=&quot;isbn&quot;/&gt;&lt;/tns1:isbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;name&quot;&gt;&lt;tns1:name&gt;&lt;xsl:value-of select=&quot;name&quot;/&gt;&lt;/tns1:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;releaseDate&quot;&gt;&lt;tns1:releaseDate&gt;&lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&lt;/tns1:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;vintage&quot;&gt;&lt;tns1:vintage&gt;&lt;xsl:value-of select=&quot;vintage&quot;/&gt;&lt;/tns1:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;signed&quot;&gt;&lt;tns1:signed&gt;&lt;xsl:value-of select=&quot;signed&quot;/&gt;&lt;/tns1:signed&gt;&lt;/xsl:if&gt;&lt;tns1:price&gt;&lt;xsl:value-of select=&quot;50&quot;/&gt;&lt;/tns1:price&gt;&lt;/tns1:Book&gt;&lt;/xsl:for-each&gt;&lt;/tns1:Books&gt;&lt;/parameters&gt;&lt;/tns:getAllBooksResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBooks&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getAllBooksOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Books&gt;&#10;            &lt;xsl:for-each select=&quot;$getBooks/Record&quot;&gt;&#10;                &lt;tns1:Book&gt;&#10;                    &lt;xsl:if test=&quot;isbn&quot;&gt;&#10;                        &lt;tns1:isbn&gt;&#10;                            &lt;xsl:value-of select=&quot;isbn&quot;/&gt;&#10;                        &lt;/tns1:isbn&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;name&quot;&gt;&#10;                        &lt;tns1:name&gt;&#10;                            &lt;xsl:value-of select=&quot;name&quot;/&gt;&#10;                        &lt;/tns1:name&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;description&quot;&gt;&#10;                        &lt;tns1:description&gt;&#10;                            &lt;xsl:value-of select=&quot;description&quot;/&gt;&#10;                        &lt;/tns1:description&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;authorName&quot;&gt;&#10;                        &lt;tns1:authorName&gt;&#10;                            &lt;xsl:value-of select=&quot;authorName&quot;/&gt;&#10;                        &lt;/tns1:authorName&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;releaseDate&quot;&gt;&#10;                        &lt;tns1:releaseDate&gt;&#10;                            &lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&#10;                        &lt;/tns1:releaseDate&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;vintage&quot;&gt;&#10;                        &lt;tns1:vintage&gt;&#10;                            &lt;xsl:value-of select=&quot;vintage&quot;/&gt;&#10;                        &lt;/tns1:vintage&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;signed&quot;&gt;&#10;                        &lt;tns1:signed&gt;&#10;                            &lt;xsl:value-of select=&quot;signed&quot;/&gt;&#10;                        &lt;/tns1:signed&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;tns1:price&gt;&#10;                        &lt;xsl:value-of select=&quot;50&quot;/&gt;&#10;                    &lt;/tns1:price&gt;&#10;                &lt;/tns1:Book&gt;&#10;            &lt;/xsl:for-each&gt;&#10;        &lt;/tns1:Books&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="01932061-01a1-446c-8198-b2c33ba747b2" label="" linkType="SUCCESS" name="JDBCQueryTogetAllBooksOut" points="[[184,58],[308,58]]" source="b79e4d54-e814-42df-ad9f-52b66d2d0295" target="15cf376e-a658-4457-92bf-cc25c1606497"/>
            <activity-dir height="48" id="b79e4d54-e814-42df-ad9f-52b66d2d0295" name="getBooks" type="bw.jdbc.JDBCQuery" width="48" x="135" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+b79e4d54-e814-42df-ad9f-52b66d2d0295+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+b79e4d54-e814-42df-ad9f-52b66d2d0295+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM book&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <columnMetadata columnName="isbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="name" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="releaseDate" dataType="91" status="OptionalElement" typeName="date"/>
                                <columnMetadata columnName="vintage" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="signed" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="price" dataType="8" status="OptionalElement" typeName="float8"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="c5fc75f3-6c87-4acc-85aa-5d90dfadc211" name="OnMessageEnd1" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="154" id="6788f6e3-c15c-438f-a8ad-f7dfddbe33d8" input="true" operation="getBookByISBN" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="getBookByISBN" width="603" x="9" y="475">
            <activity-dir height="16" id="c19c279f-deda-42c4-869d-478fa120d7c5" name="OnMessageStart2" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="11415dcf-8ded-40d0-b86c-e0d49dd2770d" name="getBookByISBNOut" operation="getBookByISBN" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getBookByISBNOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBookByISBN1&quot;/&gt;&lt;xsl:template name=&quot;getBookByISBNOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getBookByISBNResponse&gt;&lt;parameters&gt;&lt;xsl:for-each select=&quot;$getBookByISBN1/Record&quot;&gt;&lt;tns1:Book&gt;&lt;xsl:if test=&quot;isbn&quot;&gt;&lt;tns1:isbn&gt;&lt;xsl:value-of select=&quot;isbn&quot;/&gt;&lt;/tns1:isbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;name&quot;&gt;&lt;tns1:name&gt;&lt;xsl:value-of select=&quot;name&quot;/&gt;&lt;/tns1:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;releaseDate&quot;&gt;&lt;tns1:releaseDate&gt;&lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&lt;/tns1:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;vintage&quot;&gt;&lt;tns1:vintage&gt;&lt;xsl:value-of select=&quot;vintage&quot;/&gt;&lt;/tns1:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;signed&quot;&gt;&lt;tns1:signed&gt;&lt;xsl:value-of select=&quot;signed&quot;/&gt;&lt;/tns1:signed&gt;&lt;/xsl:if&gt;&lt;tns1:price&gt;&lt;xsl:value-of select=&quot;xsd:float(price)&quot;/&gt;&lt;/tns1:price&gt;&lt;/tns1:Book&gt;&lt;/xsl:for-each&gt;&lt;/parameters&gt;&lt;/tns:getBookByISBNResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBookByISBN1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getBookByISBNOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:for-each select=&quot;$getBookByISBN1/Record&quot;&gt;&#10;            &lt;tns1:Book&gt;&#10;                &lt;xsl:if test=&quot;isbn&quot;&gt;&#10;                    &lt;tns1:isbn&gt;&#10;                        &lt;xsl:value-of select=&quot;isbn&quot;/&gt;&#10;                    &lt;/tns1:isbn&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;name&quot;&gt;&#10;                    &lt;tns1:name&gt;&#10;                        &lt;xsl:value-of select=&quot;name&quot;/&gt;&#10;                    &lt;/tns1:name&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;description&quot;&gt;&#10;                    &lt;tns1:description&gt;&#10;                        &lt;xsl:value-of select=&quot;description&quot;/&gt;&#10;                    &lt;/tns1:description&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;authorName&quot;&gt;&#10;                    &lt;tns1:authorName&gt;&#10;                        &lt;xsl:value-of select=&quot;authorName&quot;/&gt;&#10;                    &lt;/tns1:authorName&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;releaseDate&quot;&gt;&#10;                    &lt;tns1:releaseDate&gt;&#10;                        &lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&#10;                    &lt;/tns1:releaseDate&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;vintage&quot;&gt;&#10;                    &lt;tns1:vintage&gt;&#10;                        &lt;xsl:value-of select=&quot;vintage&quot;/&gt;&#10;                    &lt;/tns1:vintage&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;signed&quot;&gt;&#10;                    &lt;tns1:signed&gt;&#10;                        &lt;xsl:value-of select=&quot;signed&quot;/&gt;&#10;                    &lt;/tns1:signed&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;tns1:price&gt;&#10;                    &lt;xsl:value-of select=&quot;xsd:float(price)&quot;/&gt;&#10;                &lt;/tns1:price&gt;&#10;            &lt;/tns1:Book&gt;&#10;        &lt;/xsl:for-each&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="dfcf1975-5853-4e51-91fa-0e2b84bdc46e" label="" linkType="SUCCESS" name="JDBCQueryTogetBookByISBNOut" points="[[184,58],[308,58]]" source="426eab4f-07d7-4abd-9ce4-52a7191b6c86" target="11415dcf-8ded-40d0-b86c-e0d49dd2770d"/>
            <activity-dir height="48" id="426eab4f-07d7-4abd-9ce4-52a7191b6c86" name="getBookByISBN" type="bw.jdbc.JDBCQuery" width="48" x="135" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+426eab4f-07d7-4abd-9ce4-52a7191b6c86+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBookByISBN&quot;/&gt;&lt;xsl:template name=&quot;getBookByISBN-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcQueryActivityInput&gt;&lt;isbn&gt;&lt;xsl:value-of select=&quot;$getBookByISBN/parameters/tns1:getBookByISBNRequest/ISBN&quot;/&gt;&lt;/isbn&gt;&lt;/tns:jdbcQueryActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+426eab4f-07d7-4abd-9ce4-52a7191b6c86+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBookByISBN.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getBookByISBN-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcQueryActivityInput&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:value-of select=&quot;$getBookByISBN.parameters/ISBN&quot;/&gt;&#10;            &lt;/isbn&gt;&#10;        &lt;/tns:jdbcQueryActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM book&#10;  WHERE isbn = ?&#10;&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                                <columnMetadata columnName="isbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="name" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="releaseDate" dataType="91" status="OptionalElement" typeName="date"/>
                                <columnMetadata columnName="vintage" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="signed" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="price" dataType="8" status="OptionalElement" typeName="float8"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="ae3fdaad-436f-4bdc-b51a-27af155d73f9" name="OnMessageEnd2" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="154" id="317d8b95-501a-4731-9fee-76bed4542449" input="true" operation="updateBook" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="updateBook" width="603" x="9" y="629">
            <activity-dir height="16" id="86b69e76-0d41-4090-820a-806c417ee981" name="OnMessageStart3" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="84813647-f153-4e88-b1d7-9a94b97e5125" name="updateBookOut" operation="updateBook" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="updateBookOut-input" width="48" x="333" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateBook&quot;/&gt;&lt;xsl:template name=&quot;updateBookOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:updateBookResponse&gt;&lt;parameters&gt;&lt;xsl:copy-of select=&quot;$updateBook/parameters/tns1:Book&quot;/&gt;&lt;/parameters&gt;&lt;/tns:updateBookResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;updateBookOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$updateBook.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="64f6cff5-3cd0-4b87-bc5f-5818f4a65619" label="" linkType="SUCCESS" name="JDBCUpdateToupdateBookOut" points="[[210,58],[333,58]]" source="a3a36799-77f4-4471-9d52-b5927db93771" target="84813647-f153-4e88-b1d7-9a94b97e5125"/>
            <activity-dir height="48" id="a3a36799-77f4-4471-9d52-b5927db93771" name="updateBook" type="bw.jdbc.update" width="48" x="161" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+a3a36799-77f4-4471-9d52-b5927db93771+input&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateBook&quot;/&gt;&lt;xsl:param name=&quot;JDBCQuery&quot;/&gt;&lt;xsl:template name=&quot;updateBook-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;name&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:name)) then $JDBCQuery/Record[1]/name else $updateBook/parameters/tns1:Book/tns1:name)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:name)) then $JDBCQuery/Record[1]/name else $updateBook/parameters/tns1:Book/tns1:name&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/name&gt;&lt;description&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:description)) then $JDBCQuery/Record[1]/description else $updateBook/parameters/tns1:Book/tns1:description)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:description)) then $JDBCQuery/Record[1]/description else $updateBook/parameters/tns1:Book/tns1:description&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/description&gt;&lt;authorName&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:authorName)) then $JDBCQuery/Record[1]/authorName else $updateBook/parameters/tns1:Book/tns1:authorName)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:authorName)) then $JDBCQuery/Record[1]/authorName else $updateBook/parameters/tns1:Book/tns1:authorName&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/authorName&gt;&lt;releaseDate&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:releaseDate)) then $JDBCQuery/Record[1]/releaseDate else $updateBook/parameters/tns1:Book/tns1:releaseDate)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:releaseDate)) then $JDBCQuery/Record[1]/releaseDate else $updateBook/parameters/tns1:Book/tns1:releaseDate&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/releaseDate&gt;&lt;vintage&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:vintage)) then $JDBCQuery/Record[1]/vintage else $updateBook/parameters/tns1:Book/tns1:vintage)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:vintage)) then $JDBCQuery/Record[1]/vintage else $updateBook/parameters/tns1:Book/tns1:vintage&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/vintage&gt;&lt;signed&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists(if(empty($updateBook/parameters/tns1:Book/tns1:signed)) then $JDBCQuery/Record[1]/signed else $updateBook/parameters/tns1:Book/tns1:signed)&quot;&gt;&lt;xsl:value-of select=&quot;if(empty($updateBook/parameters/tns1:Book/tns1:signed)) then $JDBCQuery/Record[1]/signed else $updateBook/parameters/tns1:Book/tns1:signed&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/signed&gt;&lt;price&gt;&lt;xsl:value-of select=&quot;xsd:double(if(empty($updateBook/parameters/tns1:Book/tns1:price)) then $JDBCQuery/Record[1]/price    else $updateBook/parameters/tns1:Book/tns1:price)&quot;/&gt;&lt;/price&gt;&lt;isbn&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateBook/parameters/tns1:Book/tns1:isbn)&quot;&gt;&lt;xsl:value-of select=&quot;$updateBook/parameters/tns1:Book/tns1:isbn&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/isbn&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+a3a36799-77f4-4471-9d52-b5927db93771+input&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateBook.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;JDBCQuery&quot;/&gt;&#10;    &lt;xsl:template name=&quot;updateBook-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;name&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:name)) then $JDBCQuery/Record[1]/name else $updateBook.parameters/tns1:name)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:name)) then $JDBCQuery/Record[1]/name else $updateBook.parameters/tns1:name&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/name&gt;&#10;            &lt;description&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:description)) then $JDBCQuery/Record[1]/description else $updateBook.parameters/tns1:description)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:description)) then $JDBCQuery/Record[1]/description else $updateBook.parameters/tns1:description&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/description&gt;&#10;            &lt;authorName&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:authorName)) then $JDBCQuery/Record[1]/authorName else $updateBook.parameters/tns1:authorName)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:authorName)) then $JDBCQuery/Record[1]/authorName else $updateBook.parameters/tns1:authorName&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/authorName&gt;&#10;            &lt;releaseDate&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:releaseDate)) then $JDBCQuery/Record[1]/releaseDate else $updateBook.parameters/tns1:releaseDate)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:releaseDate)) then $JDBCQuery/Record[1]/releaseDate else $updateBook.parameters/tns1:releaseDate&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/releaseDate&gt;&#10;            &lt;vintage&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:vintage)) then $JDBCQuery/Record[1]/vintage else $updateBook.parameters/tns1:vintage)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:vintage)) then $JDBCQuery/Record[1]/vintage else $updateBook.parameters/tns1:vintage&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/vintage&gt;&#10;            &lt;signed&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists(if(empty($updateBook.parameters/tns1:signed)) then $JDBCQuery/Record[1]/signed else $updateBook.parameters/tns1:signed)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;if(empty($updateBook.parameters/tns1:signed)) then $JDBCQuery/Record[1]/signed else $updateBook.parameters/tns1:signed&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/signed&gt;&#10;            &lt;price&gt;&#10;                &lt;xsl:value-of select=&quot;xsd:double(if(empty($updateBook.parameters/tns1:price)) then $JDBCQuery/Record[1]/price    else $updateBook.parameters/tns1:price)&quot;/&gt;&#10;            &lt;/price&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateBook.parameters/tns1:isbn)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateBook.parameters/tns1:isbn&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/isbn&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.update">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                            <value sharedResourceProperty="jdbcProperty" sqlStatement="UPDATE book&#10;  SET (name, description, authorName, releaseDate, vintage,&#10;    signed, price) = (?, ?, ?, ?,&#10;      ?, ?, ?)&#10;  WHERE isbn = ?" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="name"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="description"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="authorName"/>
                                <PreparedParameters DataType="91" DataTypeDisplayValue="DATE" ParameterName="releaseDate"/>
                                <PreparedParameters DataType="-7" DataTypeDisplayValue="BIT" ParameterName="vintage"/>
                                <PreparedParameters DataType="-7" DataTypeDisplayValue="BIT" ParameterName="signed"/>
                                <PreparedParameters DataType="8" DataTypeDisplayValue="DOUBLE" ParameterName="price"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="b3f0a927-9fb4-4bd5-a7e2-e96cb98b4796" label="" linkType="SUCCESS" name="JDBCQueryToJDBCUpdate" points="[[112,58],[161,58]]" source="d7bef9be-32ee-440d-becf-03121e4c20cb" target="a3a36799-77f4-4471-9d52-b5927db93771"/>
            <activity-dir height="48" id="d7bef9be-32ee-440d-becf-03121e4c20cb" name="JDBCQuery" type="bw.jdbc.JDBCQuery" width="48" x="63" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+d7bef9be-32ee-440d-becf-03121e4c20cb+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateBook&quot;/&gt;&lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcQueryActivityInput&gt;&lt;isbn&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateBook/parameters/tns1:Book/tns1:isbn)&quot;&gt;&lt;xsl:value-of select=&quot;$updateBook/parameters/tns1:Book/tns1:isbn&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/isbn&gt;&lt;/tns:jdbcQueryActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+d7bef9be-32ee-440d-becf-03121e4c20cb+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcQueryActivityInput&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateBook.parameters/tns1:isbn)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateBook.parameters/tns1:isbn&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/isbn&gt;&#10;        &lt;/tns:jdbcQueryActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM book&#10;  WHERE isbn = ?&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                                <columnMetadata columnName="isbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="name" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="releaseDate" dataType="91" status="OptionalElement" typeName="date"/>
                                <columnMetadata columnName="vintage" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="signed" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="price" dataType="8" status="OptionalElement" typeName="float8"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="3fb30e4a-5075-4d14-b238-c63bd23df26b" name="OnMessageEnd3" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="162" id="e90e79fc-3cdd-4d54-aed8-1f13a23db875" input="true" operation="deleteBook" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="deleteBook" width="603" x="9" y="783">
            <activity-dir height="16" id="ca9e2fbf-d1f9-40c2-9571-005a1d445fba" name="OnMessageStart4" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="b7e00f8a-76d8-4d40-86d9-d12229e48491" name="deleteBookOut" operation="deleteBook" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="deleteBookOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;deleteBook&quot;/&gt;&lt;xsl:template name=&quot;deleteBookOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:deleteBookResponse&gt;&lt;parameters&gt;&lt;tns:deleteBookResponse&gt;&lt;out&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Deleted book with ISBN - &amp;quot;,$deleteBook/parameters/tns:deleteBookRequest/ISBN)&quot;/&gt;&lt;/out&gt;&lt;/tns:deleteBookResponse&gt;&lt;/parameters&gt;&lt;/tns:deleteBookResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;deleteBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteBookOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:deleteBookResponse&gt;&#10;            &lt;out&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot;Deleted book with ISBN - &amp;quot;,$deleteBook.parameters/ISBN)&quot;/&gt;&#10;            &lt;/out&gt;&#10;        &lt;/tns:deleteBookResponse&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="5327a8e3-a164-4097-b0cb-66e120521898" label="" linkType="SUCCESS" name="JDBCUpdateTodeleteBookOut" points="[[178,58],[308,58]]" source="f4f28f1b-79dd-418b-a8c7-138a8f8e8e89" target="b7e00f8a-76d8-4d40-86d9-d12229e48491"/>
            <activity-dir height="48" id="f4f28f1b-79dd-418b-a8c7-138a8f8e8e89" name="deleteBook" type="bw.jdbc.update" width="48" x="129" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+f4f28f1b-79dd-418b-a8c7-138a8f8e8e89+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;deleteBook&quot;/&gt;&lt;xsl:template name=&quot;deleteBook-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;isbn&gt;&lt;xsl:value-of select=&quot;$deleteBook/parameters/tns1:deleteBookRequest/ISBN&quot;/&gt;&lt;/isbn&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+f4f28f1b-79dd-418b-a8c7-138a8f8e8e89+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20140929140236&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;deleteBook.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteBook-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:value-of select=&quot;$deleteBook.parameters/ISBN&quot;/&gt;&#10;            &lt;/isbn&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.update">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                            <value sharedResourceProperty="jdbcProperty" sqlStatement="DELETE FROM book&#10; WHERE isbn = ?" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="ca4ffc2c-5358-4a0d-8b6d-a356ead19b95" name="OnMessageEnd4" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="156" id="ee76a9cd-1f18-47bf-8f47-9a1ffa68b115" input="true" operation="getRecentBooks" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="getRecentBooks" width="603" x="9" y="945">
            <activity-dir height="16" id="5ef6d415-d629-4a67-94b4-d7be79167cd4" name="OnMessageStart5" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="0da61999-ba73-46f4-b411-ad9717a567b8" name="getRecentBooksOut" operation="getRecentBooks" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getRecentBooksOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getRecentBooks1&quot;/&gt;&lt;xsl:template name=&quot;getRecentBooksOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getRecentBooksResponse&gt;&lt;parameters&gt;&lt;tns1:Books&gt;&lt;tns1:Book&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/isbn&quot;&gt;&lt;tns1:isbn&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/isbn&quot;/&gt;&lt;/tns1:isbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/name&quot;&gt;&lt;tns1:name&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/name&quot;/&gt;&lt;/tns1:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/releaseDate&quot;&gt;&lt;tns1:releaseDate&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/releaseDate&quot;/&gt;&lt;/tns1:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/vintage&quot;&gt;&lt;tns1:vintage&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/vintage&quot;/&gt;&lt;/tns1:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/signed&quot;&gt;&lt;tns1:signed&gt;&lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/signed&quot;/&gt;&lt;/tns1:signed&gt;&lt;/xsl:if&gt;&lt;tns1:price&gt;&lt;xsl:value-of select=&quot;xsd:float($getRecentBooks1/Record[1]/price)&quot;/&gt;&lt;/tns1:price&gt;&lt;/tns1:Book&gt;&lt;/tns1:Books&gt;&lt;/parameters&gt;&lt;/tns:getRecentBooksResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getRecentBooks1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getRecentBooksOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Books&gt;&#10;            &lt;tns1:Book&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/isbn&quot;&gt;&#10;                    &lt;tns1:isbn&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/isbn&quot;/&gt;&#10;                    &lt;/tns1:isbn&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/name&quot;&gt;&#10;                    &lt;tns1:name&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/name&quot;/&gt;&#10;                    &lt;/tns1:name&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/description&quot;&gt;&#10;                    &lt;tns1:description&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/description&quot;/&gt;&#10;                    &lt;/tns1:description&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/authorName&quot;&gt;&#10;                    &lt;tns1:authorName&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/authorName&quot;/&gt;&#10;                    &lt;/tns1:authorName&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/releaseDate&quot;&gt;&#10;                    &lt;tns1:releaseDate&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/releaseDate&quot;/&gt;&#10;                    &lt;/tns1:releaseDate&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/vintage&quot;&gt;&#10;                    &lt;tns1:vintage&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/vintage&quot;/&gt;&#10;                    &lt;/tns1:vintage&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;$getRecentBooks1/Record[1]/signed&quot;&gt;&#10;                    &lt;tns1:signed&gt;&#10;                        &lt;xsl:value-of select=&quot;$getRecentBooks1/Record[1]/signed&quot;/&gt;&#10;                    &lt;/tns1:signed&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;tns1:price&gt;&#10;                    &lt;xsl:value-of select=&quot;xsd:float($getRecentBooks1/Record[1]/price)&quot;/&gt;&#10;                &lt;/tns1:price&gt;&#10;            &lt;/tns1:Book&gt;&#10;        &lt;/tns1:Books&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="7fc4f489-daac-4843-b944-1b60f0bf9b7d" label="" linkType="SUCCESS" name="JDBCQuery1TogetRecentBooksOut" points="[[182,58],[308,58]]" source="ac3814ba-c2d8-4c8e-b804-48c03c58718c" target="0da61999-ba73-46f4-b411-ad9717a567b8"/>
            <activity-dir height="48" id="ac3814ba-c2d8-4c8e-b804-48c03c58718c" name="getRecentBooks" type="bw.jdbc.JDBCQuery" width="48" x="133" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+ac3814ba-c2d8-4c8e-b804-48c03c58718c+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery1-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+ac3814ba-c2d8-4c8e-b804-48c03c58718c+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery1-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT   * &#10;FROM &#10;  book&#10;ORDER BY&#10;  releaseDate DESC&#10;LIMIT 2&#10;&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <columnMetadata columnName="isbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="name" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="releaseDate" dataType="91" status="OptionalElement" typeName="date"/>
                                <columnMetadata columnName="vintage" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="signed" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="price" dataType="8" status="OptionalElement" typeName="float8"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="0d1c17e9-0170-4d15-aa2c-054c54ff9870" name="OnMessageEnd5" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
        <on-message height="572" id="a37fb1f2-c34a-485b-b471-6566c716774a" input="true" operation="getBooksByPrice" output="true" partner-link="BooksPersist" portType="Service" type="onMessage" variable="getBooksByPrice" width="603" x="9" y="1101">
            <link-dir id="86f99d04-29a7-498d-880c-5e197ce05522" label="" linkType="SUCCESS" name="OnMessageStart6ToAssign1" points="[[1,71],[38,71],[38,68],[63,68]]" source="a2916839-b54a-484e-a144-46cddeb45dd9" target="e508b133-b56c-4c87-b97d-399775a2b8c7"/>
            <activity-dir height="16" id="a2916839-b54a-484e-a144-46cddeb45dd9" name="OnMessageStart6" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="916cd732-eb01-463c-9fb5-e9b995da9364" name="getBooksByPriceOut" operation="getBooksByPrice" partnerLink="BooksPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getBooksByPriceOut-input" width="48" x="445" y="44">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooksByPrice1&quot;/&gt;&lt;xsl:param name=&quot;ParseJSON1&quot;/&gt;&lt;xsl:param name=&quot;ParseJSON&quot;/&gt;&lt;xsl:template name=&quot;getBooksByPriceOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getBooksByPriceResponse&gt;&lt;parameters&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;boolean($getBooksByPrice1/Record)&quot;&gt;&lt;tns1:getBooksByPriceResponse&gt;&lt;xsl:copy-of select=&quot;$ParseJSON/tns1:Book&quot;/&gt;&lt;/tns1:getBooksByPriceResponse&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;tns1:getBooksByPriceResponse&gt;&lt;xsl:copy-of select=&quot;$ParseJSON1/tns1:Book&quot;/&gt;&lt;/tns1:getBooksByPriceResponse&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/parameters&gt;&lt;/tns:getBooksByPriceResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20140929140236&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBooksByPrice1&quot;/&gt;&#10;    &lt;xsl:param name=&quot;ParseJSON1&quot;/&gt;&#10;    &lt;xsl:param name=&quot;ParseJSON&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getBooksByPriceOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:choose&gt;&#10;            &lt;xsl:when test=&quot;boolean($getBooksByPrice1/Record)&quot;&gt;&#10;                &lt;tns1:getBooksByPriceResponse&gt;&#10;                    &lt;xsl:copy-of select=&quot;$ParseJSON/tns1:Book&quot;/&gt;&#10;                &lt;/tns1:getBooksByPriceResponse&gt;&#10;            &lt;/xsl:when&gt;&#10;            &lt;xsl:otherwise&gt;&#10;                &lt;tns1:getBooksByPriceResponse&gt;&#10;                    &lt;xsl:copy-of select=&quot;$ParseJSON1/tns1:Book&quot;/&gt;&#10;                &lt;/tns1:getBooksByPriceResponse&gt;&#10;            &lt;/xsl:otherwise&gt;&#10;        &lt;/xsl:choose&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="76c23284-a4f6-4ec2-a67b-753c034c437c" label="" linkType="SUCCESS" name="Assign1ToJDBCQuery1" points="[[112,68],[140,68]]" source="e508b133-b56c-4c87-b97d-399775a2b8c7" target="4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42"/>
            <activity-dir height="48" id="e508b133-b56c-4c87-b97d-399775a2b8c7" name="Assign1" type="bw.generalactivities.bwassign" width="48" x="63" y="44">
                <BWActivity activityTypeID="bw.generalactivities.bwassign">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//BWAssign"/>
                            <value type="generalactivities:BWAssign"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="bd7559ec-510d-40ad-bb96-8e4b55044ea4" label="" linkType="SUCCESSWITHCONDITION" name="JDBCQuery1ToRenderJSON" points="[[189,68],[245,68]]" source="4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42" target="50f453ad-8639-41bd-be22-f455c2eab9db"/>
            <link-dir id="4f6c04ce-5a7f-42d9-8b1b-71a7133c43d4" label="" linkType="SUCCESSWITHCONDITION" name="getBooksByPriceToParseJSON1" points="[[164,93],[164,167],[234,167]]" source="4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42" target="cdf84c90-9e1d-4dfd-9153-ef5dab8ddeb6"/>
            <activity-dir height="48" id="4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42" name="getBooksByPrice" type="bw.jdbc.JDBCQuery" width="48" x="140" y="44">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooksByPrice&quot;/&gt;&lt;xsl:template name=&quot;JDBCQuery1-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcQueryActivityInput&gt;&lt;price&gt;&lt;xsl:value-of select=&quot;$getBooksByPrice/parameters/tns1:getBooksByPriceRequest/tns1:in&quot;/&gt;&lt;/price&gt;&lt;/tns:jdbcQueryActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+4a16b9a5-f0d5-48bc-9a0c-b4fa564b6d42+input&quot; xmlns:tns1=&quot;http://www.example.org/Books&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getBooksByPrice.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;JDBCQuery1-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcQueryActivityInput&gt;&#10;            &lt;price&gt;&#10;                &lt;xsl:value-of select=&quot;$getBooksByPrice.parameters/tns1:in&quot;/&gt;&#10;            &lt;/price&gt;&#10;        &lt;/tns:jdbcQueryActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM book where price &gt; ?&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <PreparedParameters DataType="8" DataTypeDisplayValue="DOUBLE" ParameterName="price"/>
                                <columnMetadata columnName="isbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="name" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="releaseDate" dataType="91" status="OptionalElement" typeName="date"/>
                                <columnMetadata columnName="vintage" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="signed" dataType="-7" status="OptionalElement" typeName="bool"/>
                                <columnMetadata columnName="price" dataType="8" status="OptionalElement" typeName="float8"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="8935abee-4b91-4df3-a94e-4fbd3cd2bacc" label="" linkType="SUCCESS" name="RenderJSONToParseJSON" points="[[294,68],[350,68]]" source="50f453ad-8639-41bd-be22-f455c2eab9db" target="4379d4d6-899f-4420-b9a5-8238791e7eed"/>
            <activity-dir height="48" id="50f453ad-8639-41bd-be22-f455c2eab9db" name="RenderJSON" type="bw.restjson.JsonRender" width="48" x="245" y="44">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooksByPrice1&quot;/&gt;&lt;xsl:template name=&quot;RenderJSON-input&quot; match=&quot;/&quot;&gt;&lt;tns:BookArray&gt;&lt;xsl:for-each select=&quot;$getBooksByPrice1/Record&quot;&gt;&lt;tns:Book&gt;&lt;xsl:if test=&quot;isbn&quot;&gt;&lt;tns:isbn&gt;&lt;xsl:value-of select=&quot;isbn&quot;/&gt;&lt;/tns:isbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;name&quot;&gt;&lt;tns:name&gt;&lt;xsl:value-of select=&quot;name&quot;/&gt;&lt;/tns:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;releaseDate&quot;&gt;&lt;tns:releaseDate&gt;&lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&lt;/tns:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;vintage&quot;&gt;&lt;tns:vintage&gt;&lt;xsl:value-of select=&quot;vintage&quot;/&gt;&lt;/tns:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;signed&quot;&gt;&lt;tns:signed&gt;&lt;xsl:value-of select=&quot;signed&quot;/&gt;&lt;/tns:signed&gt;&lt;/xsl:if&gt;&lt;tns:price&gt;&lt;xsl:value-of select=&quot;xsd:float(price)&quot;/&gt;&lt;/tns:price&gt;&lt;/tns:Book&gt;&lt;/xsl:for-each&gt;&lt;/tns:BookArray&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.org/Books&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getBooksByPrice1&quot;/&gt;&lt;xsl:template name=&quot;RenderJSON-input&quot; match=&quot;/&quot;&gt;&lt;tns:BookArray&gt;&lt;xsl:for-each select=&quot;$getBooksByPrice1/Record&quot;&gt;&lt;tns:Book&gt;&lt;xsl:if test=&quot;isbn&quot;&gt;&lt;tns:isbn&gt;&lt;xsl:value-of select=&quot;isbn&quot;/&gt;&lt;/tns:isbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;name&quot;&gt;&lt;tns:name&gt;&lt;xsl:value-of select=&quot;name&quot;/&gt;&lt;/tns:name&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;releaseDate&quot;&gt;&lt;tns:releaseDate&gt;&lt;xsl:value-of select=&quot;releaseDate&quot;/&gt;&lt;/tns:releaseDate&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;vintage&quot;&gt;&lt;tns:vintage&gt;&lt;xsl:value-of select=&quot;vintage&quot;/&gt;&lt;/tns:vintage&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;signed&quot;&gt;&lt;tns:signed&gt;&lt;xsl:value-of select=&quot;signed&quot;/&gt;&lt;/tns:signed&gt;&lt;/xsl:if&gt;&lt;tns:price&gt;&lt;xsl:value-of select=&quot;xsd:float(price)&quot;/&gt;&lt;/tns:price&gt;&lt;/tns:Book&gt;&lt;/xsl:for-each&gt;&lt;/tns:BookArray&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.restjson.JsonRender">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/restjson#//JsonRender"/>
                            <value jsonOutputStyle="Anonymous Array" schemaType="Xsd" type="restjson:JsonRender">
                                <inputEditorElement href="platform:/resource/tibco.bw.sample.binding.rest.BookStore/Schemas/Books.xsd#//BookArray;XSDElementDeclaration=4"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="68b9c426-9578-464b-abf9-0ab0d8a445e5" label="" linkType="SUCCESS" name="ParseJSONTogetBooksByPriceOut" points="[[399,68],[445,68]]" source="4379d4d6-899f-4420-b9a5-8238791e7eed" target="916cd732-eb01-463c-9fb5-e9b995da9364"/>
            <activity-dir height="48" id="4379d4d6-899f-4420-b9a5-8238791e7eed" name="ParseJSON" type="bw.restjson.JsonParser" width="48" x="350" y="44">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;activity.jsonParser.input+4379d4d6-899f-4420-b9a5-8238791e7eed+ActivityInputType&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;RenderJSON&quot;/&gt;&lt;xsl:template name=&quot;ParseJSON-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInputClass&gt;&lt;jsonString&gt;&lt;xsl:value-of select=&quot;$RenderJSON/jsonString&quot;/&gt;&lt;/jsonString&gt;&lt;/tns:ActivityInputClass&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;activity.jsonParser.input+4379d4d6-899f-4420-b9a5-8238791e7eed+ActivityInputType&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;RenderJSON&quot;/&gt;&lt;xsl:template name=&quot;ParseJSON-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInputClass&gt;&lt;jsonString&gt;&lt;xsl:value-of select=&quot;$RenderJSON/jsonString&quot;/&gt;&lt;/jsonString&gt;&lt;/tns:ActivityInputClass&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.restjson.JsonParser">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/restjson#//JsonParser"/>
                            <value jsonInputStyle="Anonymous Array" schemaType="Xsd" type="restjson:JsonParser">
                                <outputEditorElement href="platform:/resource/tibco.bw.sample.binding.rest.BookStore/Schemas/Books.xsd#//BookArray;XSDElementDeclaration=4"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <link-dir id="330c80fa-f125-4c95-8d0f-86fe89861630" label="" linkType="SUCCESS" name="ParseJSON1TogetBooksByPriceOut" points="[[283,167],[469,167],[469,93]]" source="cdf84c90-9e1d-4dfd-9153-ef5dab8ddeb6" target="916cd732-eb01-463c-9fb5-e9b995da9364"/>
            <activity-dir height="48" id="cdf84c90-9e1d-4dfd-9153-ef5dab8ddeb6" name="ParseJSON1" type="bw.restjson.JsonParser" width="48" x="234" y="143">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;activity.jsonParser.input+cdf84c90-9e1d-4dfd-9153-ef5dab8ddeb6+ActivityInputType&quot; version=&quot;2.0&quot;&gt;&lt;xsl:template name=&quot;ParseJSON1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInputClass&gt;&lt;jsonString&gt;&lt;xsl:value-of select=&quot;&amp;quot;[null]&amp;quot;&quot;/&gt;&lt;/jsonString&gt;&lt;/tns:ActivityInputClass&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;activity.jsonParser.input+cdf84c90-9e1d-4dfd-9153-ef5dab8ddeb6+ActivityInputType&quot; version=&quot;2.0&quot;&gt;&lt;xsl:template name=&quot;ParseJSON1-input&quot; match=&quot;/&quot;&gt;&lt;tns:ActivityInputClass&gt;&lt;jsonString&gt;&lt;xsl:value-of select=&quot;&amp;quot;[null]&amp;quot;&quot;/&gt;&lt;/jsonString&gt;&lt;/tns:ActivityInputClass&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.restjson.JsonParser">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/restjson#//JsonParser"/>
                            <value jsonInputStyle="Anonymous Array" schemaType="Xsd" type="restjson:JsonParser">
                                <outputEditorElement href="platform:/resource/tibco.bw.sample.binding.rest.BookStore/Schemas/Books.xsd#//BookArray;XSDElementDeclaration=4"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="8ffd2097-f86e-499e-86c9-d982a157c52a" name="OnMessageEnd6" type="onMessageEnd" width="16" x="601" y="63"/>
        </on-message>
    </pick>
</process-dir>

<process-dir height="1037" id="tibco.bw.sample.binding.rest.bookstore.db.EventsDB" name="tibco.bw.sample.binding.rest.bookstore.db.EventsDB" type="process" width="609" x="140" y="20">
    <partnerLinks>
        <partner-link id="EventsPersist" myRole="use" name="EventsPersist" partnerLinkType="ServicePLT"/>
    </partnerLinks>
    <ProcessInfo createdBy="nshah" createdOn="Mon Oct 06 12:10:28 IST 2014" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="1.2.0 V19 2014-10-04" scalable="true" singleton="true" stateless="false" type="IT"/>
    <pick collapse="false" createInstance="true" height="988" id="68a81b07-76e6-44c0-bde1-d50460b96256" name="pick" type="pick" width="457" x="76" y="44">
        <on-message height="144" id="8f9f5b08-2669-4e07-84de-fa5716145fbb" input="true" operation="getAllEvents" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="getAllEvents" width="439" x="9" y="11">
            <activity-dir height="16" id="b990af01-d575-412f-bf1f-e77e4865b19f" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="5a3be995-e3e4-4f75-b795-d7eea3ace88d" name="getAllEventsOut" operation="getAllEvents" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getAllEventsOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getAllEvents1&quot;/&gt;&lt;xsl:template name=&quot;getAllEventsOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getAllEventsResponse&gt;&lt;parameters&gt;&lt;tns1:Events&gt;&lt;xsl:for-each select=&quot;$getAllEvents1/Record&quot;&gt;&lt;tns1:Event&gt;&lt;xsl:if test=&quot;id&quot;&gt;&lt;tns1:id&gt;&lt;xsl:value-of select=&quot;id&quot;/&gt;&lt;/tns1:id&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;summary&quot;&gt;&lt;tns1:summary&gt;&lt;xsl:value-of select=&quot;summary&quot;/&gt;&lt;/tns1:summary&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;bookisbn&quot;&gt;&lt;tns1:bookIsbn&gt;&lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&lt;/tns1:bookIsbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;date&quot;&gt;&lt;tns1:date&gt;&lt;xsl:value-of select=&quot;date&quot;/&gt;&lt;/tns1:date&gt;&lt;/xsl:if&gt;&lt;/tns1:Event&gt;&lt;/xsl:for-each&gt;&lt;/tns1:Events&gt;&lt;/parameters&gt;&lt;/tns:getAllEventsResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getAllEvents1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getAllEventsOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Events&gt;&#10;            &lt;xsl:for-each select=&quot;$getAllEvents1/Record&quot;&gt;&#10;                &lt;tns1:Event&gt;&#10;                    &lt;xsl:if test=&quot;id&quot;&gt;&#10;                        &lt;tns1:id&gt;&#10;                            &lt;xsl:value-of select=&quot;id&quot;/&gt;&#10;                        &lt;/tns1:id&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;summary&quot;&gt;&#10;                        &lt;tns1:summary&gt;&#10;                            &lt;xsl:value-of select=&quot;summary&quot;/&gt;&#10;                        &lt;/tns1:summary&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;description&quot;&gt;&#10;                        &lt;tns1:description&gt;&#10;                            &lt;xsl:value-of select=&quot;description&quot;/&gt;&#10;                        &lt;/tns1:description&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;authorName&quot;&gt;&#10;                        &lt;tns1:authorName&gt;&#10;                            &lt;xsl:value-of select=&quot;authorName&quot;/&gt;&#10;                        &lt;/tns1:authorName&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;bookisbn&quot;&gt;&#10;                        &lt;tns1:bookIsbn&gt;&#10;                            &lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&#10;                        &lt;/tns1:bookIsbn&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;date&quot;&gt;&#10;                        &lt;tns1:date&gt;&#10;                            &lt;xsl:value-of select=&quot;date&quot;/&gt;&#10;                        &lt;/tns1:date&gt;&#10;                    &lt;/xsl:if&gt;&#10;                &lt;/tns1:Event&gt;&#10;            &lt;/xsl:for-each&gt;&#10;        &lt;/tns1:Events&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="e7bdba54-0b8c-4e8f-8b05-5330cca2a2af" label="" linkType="SUCCESS" name="JDBCQueryTogetAllEventsOut" points="[[187,58],[308,58]]" source="32e7a1f3-35b2-4464-8943-5c5b73b8bcf6" target="5a3be995-e3e4-4f75-b795-d7eea3ace88d"/>
            <activity-dir height="48" id="32e7a1f3-35b2-4464-8943-5c5b73b8bcf6" name="getAllEvents" type="bw.jdbc.JDBCQuery" width="48" x="138" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+32e7a1f3-35b2-4464-8943-5c5b73b8bcf6+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+32e7a1f3-35b2-4464-8943-5c5b73b8bcf6+input&quot; version=&quot;2.0&quot;&gt; &lt;xsl:template name=&quot;JDBCQuery-input&quot; match=&quot;/&quot;&gt; &lt;tns:jdbcQueryActivityInput/&gt; &lt;/xsl:template&gt; &lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#13;&#10;  FROM events" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <columnMetadata columnName="summary" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="bookisbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="date" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="id" dataType="12" status="OptionalElement" typeName="text"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="c7a2e13d-b0b7-485d-a786-c21cc1bfddb8" name="OnMessageEnd" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
        <on-message height="254" id="3ed06fe8-a487-4aa1-9683-cbc8bac63fd6" input="true" operation="addEvents" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="addEvents" width="439" x="9" y="155">
            <link-dir id="5e9fb63a-571f-40c5-9b40-e1714449cf03" label="" linkType="SUCCESS" name="OnMessageStart1ToForEach" points="[[1,71],[31,71],[31,104],[62,104]]" source="8ab01c75-4b87-453d-b1a7-ea609f1e87ff" target="9417d45c-9786-4522-8484-c19fb75e2959"/>
            <activity-dir height="16" id="8ab01c75-4b87-453d-b1a7-ea609f1e87ff" name="OnMessageStart1" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="6ab95229-7b56-466c-b772-b4de0881c457" name="addEventsOut" operation="addEvents" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="addEventsOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;addEvents&quot;/&gt;&lt;xsl:template name=&quot;addEventsOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:addEventsResponse&gt;&lt;parameters&gt;&lt;xsl:copy-of select=&quot;$addEvents/parameters/tns1:Events&quot;/&gt;&lt;/parameters&gt;&lt;/tns:addEventsResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;addEvents.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;addEventsOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$addEvents.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="e5e2bba5-6da2-474e-b284-4460e302c553" label="" linkType="SUCCESS" name="ForEachToaddEventsOut" points="[[240,104],[242,104],[242,58],[308,58]]" source="9417d45c-9786-4522-8484-c19fb75e2959" target="6ab95229-7b56-466c-b772-b4de0881c457"/>
            <scope collapse="false" group="foreach" height="130" id="9417d45c-9786-4522-8484-c19fb75e2959" name="ForEach" type="bpel.scope" width="177" x="62" y="39">
                <forEach counterName="index" parallel="false">
                    <startCounterValue/>
                    <finalCounterValue/>
                </forEach>
                <link-dir id="176233c2-1958-458c-9421-034a9fe53b6a" label="" linkType="SUCCESS" name="JDBCUpdateToGroupEnd" points="[[114,70],[165,70]]" source="783ce8b8-cd03-4639-bd05-ed672b7fadb5" target="1b52cbdd-f607-4c77-aed2-949f0d4457ad"/>
                <activity-dir height="48" id="783ce8b8-cd03-4639-bd05-ed672b7fadb5" name="addEvents" type="bw.jdbc.update" width="48" x="65" y="46">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+783ce8b8-cd03-4639-bd05-ed672b7fadb5+input&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;index&quot;/&gt;&lt;xsl:param name=&quot;addEvents&quot;/&gt;&lt;xsl:template name=&quot;addEvents-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;summary&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:summary)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:summary&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/summary&gt;&lt;description&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:description)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:description&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/description&gt;&lt;authorName&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:authorName)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:authorName&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/authorName&gt;&lt;bookisbn&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:bookIsbn)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:bookIsbn&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/bookisbn&gt;&lt;date&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:date)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:date&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/date&gt;&lt;id&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:id)&quot;&gt;&lt;xsl:value-of select=&quot;$addEvents/parameters/tns1:Events/tns1:Event[$index]/tns1:id&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/id&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+783ce8b8-cd03-4639-bd05-ed672b7fadb5+input&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;addEvents.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;index&quot;/&gt;&#10;    &lt;xsl:template name=&quot;addEvents-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;summary&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:summary)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:summary&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/summary&gt;&#10;            &lt;description&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:description)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:description&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/description&gt;&#10;            &lt;authorName&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:authorName)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:authorName&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/authorName&gt;&#10;            &lt;bookisbn&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:bookIsbn)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:bookIsbn&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/bookisbn&gt;&#10;            &lt;date&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:date)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:date&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/date&gt;&#10;            &lt;id&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($addEvents.parameters/tns1:Event[$index]/tns1:id)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$addEvents.parameters/tns1:Event[$index]/tns1:id&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/id&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                    <BWActivity activityTypeID="bw.jdbc.update">
                        <activityConfig>
                            <properties name="config" type="activityconfig:EMFProperty">
                                <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                                <value sharedResourceProperty="jdbcProperty" sqlStatement="INSERT INTO events (summary, description, authorName,&#10;  bookisbn, date,id)&#10;  VALUES (?, ?, ?, ?, ?,?)" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="summary"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="description"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="authorName"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="bookisbn"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="date"/>
                                    <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="id"/>
                                </value>
                            </properties>
                        </activityConfig>
                    </BWActivity>
                </activity-dir>
                <link-dir id="1c8da642-0f10-48d8-88e1-244bcbbfe2c7" label="" linkType="SUCCESS" name="GroupStartToJDBCUpdate" points="[[13,70],[65,70]]" source="04c6649b-e0d3-47c8-9682-57d0a8396a3f" target="783ce8b8-cd03-4639-bd05-ed672b7fadb5"/>
                <activity-dir height="16" id="04c6649b-e0d3-47c8-9682-57d0a8396a3f" name="GroupStart" type="groupStart" width="16" x="-7" y="62"/>
                <activity-dir height="16" id="1b52cbdd-f607-4c77-aed2-949f0d4457ad" name="GroupEnd" type="groupEnd" width="16" x="169" y="62"/>
            </scope>
            <activity-dir height="16" id="9632ae1c-f95f-4c78-9146-05880dacfe64" name="OnMessageEnd1" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
        <on-message height="142" id="f6480831-98e2-494e-a331-e5c457710704" input="true" operation="getEventByID" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="getEventByID" width="439" x="9" y="409">
            <activity-dir height="16" id="1cabb4ef-6ccc-47dd-aefc-57ebf9f0c77d" name="OnMessageStart2" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="cb0872b1-4af0-44c2-aca4-b5377821a370" name="getEventByIDOut" operation="getEventByID" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getEventByIDOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getEventByID1&quot;/&gt;&lt;xsl:template name=&quot;getEventByIDOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getEventByIDResponse&gt;&lt;parameters&gt;&lt;xsl:for-each select=&quot;$getEventByID1/Record&quot;&gt;&lt;tns1:Event&gt;&lt;xsl:if test=&quot;id&quot;&gt;&lt;tns1:id&gt;&lt;xsl:value-of select=&quot;id&quot;/&gt;&lt;/tns1:id&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;summary&quot;&gt;&lt;tns1:summary&gt;&lt;xsl:value-of select=&quot;summary&quot;/&gt;&lt;/tns1:summary&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;bookisbn&quot;&gt;&lt;tns1:bookIsbn&gt;&lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&lt;/tns1:bookIsbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;date&quot;&gt;&lt;tns1:date&gt;&lt;xsl:value-of select=&quot;date&quot;/&gt;&lt;/tns1:date&gt;&lt;/xsl:if&gt;&lt;/tns1:Event&gt;&lt;/xsl:for-each&gt;&lt;/parameters&gt;&lt;/tns:getEventByIDResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getEventByID1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getEventByIDOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:for-each select=&quot;$getEventByID1/Record&quot;&gt;&#10;            &lt;tns1:Event&gt;&#10;                &lt;xsl:if test=&quot;id&quot;&gt;&#10;                    &lt;tns1:id&gt;&#10;                        &lt;xsl:value-of select=&quot;id&quot;/&gt;&#10;                    &lt;/tns1:id&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;summary&quot;&gt;&#10;                    &lt;tns1:summary&gt;&#10;                        &lt;xsl:value-of select=&quot;summary&quot;/&gt;&#10;                    &lt;/tns1:summary&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;description&quot;&gt;&#10;                    &lt;tns1:description&gt;&#10;                        &lt;xsl:value-of select=&quot;description&quot;/&gt;&#10;                    &lt;/tns1:description&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;authorName&quot;&gt;&#10;                    &lt;tns1:authorName&gt;&#10;                        &lt;xsl:value-of select=&quot;authorName&quot;/&gt;&#10;                    &lt;/tns1:authorName&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;bookisbn&quot;&gt;&#10;                    &lt;tns1:bookIsbn&gt;&#10;                        &lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&#10;                    &lt;/tns1:bookIsbn&gt;&#10;                &lt;/xsl:if&gt;&#10;                &lt;xsl:if test=&quot;date&quot;&gt;&#10;                    &lt;tns1:date&gt;&#10;                        &lt;xsl:value-of select=&quot;date&quot;/&gt;&#10;                    &lt;/tns1:date&gt;&#10;                &lt;/xsl:if&gt;&#10;            &lt;/tns1:Event&gt;&#10;        &lt;/xsl:for-each&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="b58312b8-24cf-40ec-a961-dd18c067de60" label="" linkType="SUCCESS" name="JDBCQueryTogetEventByIDOut" points="[[180,58],[308,58]]" source="14d24a1b-f90a-4069-bb81-e5d3118f28b9" target="cb0872b1-4af0-44c2-aca4-b5377821a370"/>
            <activity-dir height="48" id="14d24a1b-f90a-4069-bb81-e5d3118f28b9" name="getEventByID" type="bw.jdbc.JDBCQuery" width="48" x="131" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+14d24a1b-f90a-4069-bb81-e5d3118f28b9+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getEventByID&quot;/&gt;&lt;xsl:template name=&quot;getEventByID-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcQueryActivityInput&gt;&lt;id&gt;&lt;xsl:value-of select=&quot;$getEventByID/parameters/tns1:getEventByIDRequest/EventID&quot;/&gt;&lt;/id&gt;&lt;/tns:jdbcQueryActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+14d24a1b-f90a-4069-bb81-e5d3118f28b9+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getEventByID.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getEventByID-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcQueryActivityInput&gt;&#10;            &lt;id&gt;&#10;                &lt;xsl:value-of select=&quot;$getEventByID.parameters/EventID&quot;/&gt;&#10;            &lt;/id&gt;&#10;        &lt;/tns:jdbcQueryActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM events&#10;  WHERE id = ?&#10;&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="id"/>
                                <columnMetadata columnName="summary" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="bookisbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="date" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="id" dataType="12" status="OptionalElement" typeName="text"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="62e058f8-540f-49bb-9622-736382260dfc" name="OnMessageEnd2" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
        <on-message height="142" id="8b4c608d-189b-4582-a32c-3af4e0079b41" input="true" operation="updateEvent" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="updateEvent" width="439" x="9" y="551">
            <activity-dir height="16" id="79fcaa2e-4a51-4978-b3e1-702e117f93cf" name="OnMessageStart3" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="317b7ce2-47c0-4f4e-b719-218e62fa605b" name="updateEventOut" operation="updateEvent" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="updateEventOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateEvent&quot;/&gt;&lt;xsl:template name=&quot;updateEventOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:updateEventResponse&gt;&lt;parameters&gt;&lt;xsl:copy-of select=&quot;$updateEvent/parameters/tns1:Event&quot;/&gt;&lt;/parameters&gt;&lt;/tns:updateEventResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateEvent.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;updateEventOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;xsl:copy-of select=&quot;$updateEvent.parameters&quot;/&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="9297abbe-e9e1-462f-bd50-c2c1047850d9" label="" linkType="SUCCESS" name="JDBCUpdateToupdateEventOut" points="[[186,58],[308,58]]" source="3e35c374-0a30-406b-bba2-264e36f8de3f" target="317b7ce2-47c0-4f4e-b719-218e62fa605b"/>
            <activity-dir height="48" id="3e35c374-0a30-406b-bba2-264e36f8de3f" name="updateEvent" type="bw.jdbc.update" width="48" x="137" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+3e35c374-0a30-406b-bba2-264e36f8de3f+input&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;updateEvent&quot;/&gt;&lt;xsl:template name=&quot;updateEvent-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;summary&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:summary)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:summary&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/summary&gt;&lt;description&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:description)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:description&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/description&gt;&lt;authorName&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:authorName)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:authorName&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/authorName&gt;&lt;bookisbn&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:bookIsbn)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:bookIsbn&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/bookisbn&gt;&lt;date&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:date)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:date&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/date&gt;&lt;id&gt;&lt;xsl:choose&gt;&lt;xsl:when test=&quot;exists($updateEvent/parameters/tns1:Event/tns1:id)&quot;&gt;&lt;xsl:value-of select=&quot;$updateEvent/parameters/tns1:Event/tns1:id&quot;/&gt;&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;&lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;&lt;/id&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+3e35c374-0a30-406b-bba2-264e36f8de3f+input&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;updateEvent.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;updateEvent-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;summary&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:summary)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:summary&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/summary&gt;&#10;            &lt;description&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:description)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:description&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/description&gt;&#10;            &lt;authorName&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:authorName)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:authorName&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/authorName&gt;&#10;            &lt;bookisbn&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:bookIsbn)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:bookIsbn&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/bookisbn&gt;&#10;            &lt;date&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:date)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:date&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/date&gt;&#10;            &lt;id&gt;&#10;                &lt;xsl:choose&gt;&#10;                    &lt;xsl:when test=&quot;exists($updateEvent.parameters/tns1:id)&quot;&gt;&#10;                        &lt;xsl:value-of select=&quot;$updateEvent.parameters/tns1:id&quot;/&gt;&#10;                    &lt;/xsl:when&gt;&#10;                    &lt;xsl:otherwise&gt;&#10;                        &lt;xsl:attribute name=&quot;xsi:nil&quot;&gt;true&lt;/xsl:attribute&gt;&#10;                    &lt;/xsl:otherwise&gt;&#10;                &lt;/xsl:choose&gt;&#10;            &lt;/id&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.update">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                            <value sharedResourceProperty="jdbcProperty" sqlStatement="UPDATE events&#10;  SET (summary, description, authorName, bookisbn, date) = (?, ?, ?, ?, ?) where id = ?" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="summary"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="description"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="authorName"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="bookisbn"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="date"/>
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="id"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="7f26c1e9-6529-4ca1-bebb-280c473d3483" name="OnMessageEnd3" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
        <on-message height="142" id="83478dc8-b500-407a-bec2-70e46ed35f12" input="true" operation="deleteEvent" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="deleteEvent" width="439" x="9" y="693">
            <activity-dir height="16" id="75267c35-bf5a-42ac-8a6d-6726c553c284" name="OnMessageStart4" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="6cdbd042-bd15-40c4-9cd2-47389ea06001" name="deleteEventOut" operation="deleteEvent" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="deleteEventOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;deleteEvent&quot;/&gt;&lt;xsl:template name=&quot;deleteEventOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:deleteEventResponse&gt;&lt;parameters&gt;&lt;tns:deleteEventResponse&gt;&lt;out&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot; { deleted event: &amp;quot;, '&amp;quot;', $deleteEvent/parameters/tns:deleteEventRequest/EventID, '&amp;quot;', &amp;quot; }&amp;quot;)&quot;/&gt;&lt;/out&gt;&lt;/tns:deleteEventResponse&gt;&lt;/parameters&gt;&lt;/tns:deleteEventResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;deleteEvent.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteEventOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:deleteEventResponse&gt;&#10;            &lt;out&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot; { deleted event: &amp;quot;, '&amp;quot;', $deleteEvent.parameters/EventID, '&amp;quot;', &amp;quot; }&amp;quot;)&quot;/&gt;&#10;            &lt;/out&gt;&#10;        &lt;/tns:deleteEventResponse&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="124cd5f1-0f93-4b82-acc6-3b727efe8325" label="" linkType="SUCCESS" name="JDBCUpdateTodeleteEventOut" points="[[176,58],[308,58]]" source="e0409135-bc24-4d1e-aeb4-619d5c86bf44" target="6cdbd042-bd15-40c4-9cd2-47389ea06001"/>
            <activity-dir height="48" id="e0409135-bc24-4d1e-aeb4-619d5c86bf44" name="deleteEvent" type="bw.jdbc.update" width="48" x="127" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+e0409135-bc24-4d1e-aeb4-619d5c86bf44+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;deleteEvent&quot;/&gt;&lt;xsl:template name=&quot;deleteEvent-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcUpdateActivityInput&gt;&lt;id&gt;&lt;xsl:value-of select=&quot;$deleteEvent/parameters/tns1:deleteEventRequest/EventID&quot;/&gt;&lt;/id&gt;&lt;/tns:jdbcUpdateActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+e0409135-bc24-4d1e-aeb4-619d5c86bf44+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;deleteEvent.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;deleteEvent-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcUpdateActivityInput&gt;&#10;            &lt;id&gt;&#10;                &lt;xsl:value-of select=&quot;$deleteEvent.parameters/EventID&quot;/&gt;&#10;            &lt;/id&gt;&#10;        &lt;/tns:jdbcUpdateActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.update">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCUpdateActivity"/>
                            <value sharedResourceProperty="jdbcProperty" sqlStatement="DELETE FROM events&#10; WHERE id = ?" timeout="10" type="jdbcPalette:JDBCUpdateActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="id"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="682b8e41-2ace-4c53-b0cf-20cd02257cf0" name="OnMessageEnd4" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
        <on-message height="144" id="3988607c-eee0-4536-b9c4-ae94ab3b2e01" input="true" operation="getEventByISBN" output="true" partner-link="EventsPersist" portType="Service" type="onMessage" variable="getEventByISBN" width="439" x="9" y="835">
            <activity-dir height="16" id="ea40bdb4-4203-44ac-aeb7-0a5b00816a96" name="OnMessageStart5" type="onMessageStart" width="16" x="-19" y="63"/>
            <activity-dir height="48" id="323bdef5-a498-45c6-9211-8e61f80ebecd" name="getEventByISBNOut" operation="getEventByISBN" partnerLink="EventsPersist" portType="Service" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getEventByISBNOut-input" width="48" x="308" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getEventByISBN1&quot;/&gt;&lt;xsl:template name=&quot;getEventByISBNOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getEventByISBNResponse&gt;&lt;parameters&gt;&lt;tns1:Events&gt;&lt;xsl:for-each select=&quot;$getEventByISBN1/Record&quot;&gt;&lt;tns1:Event&gt;&lt;xsl:if test=&quot;id&quot;&gt;&lt;tns1:id&gt;&lt;xsl:value-of select=&quot;id&quot;/&gt;&lt;/tns1:id&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;summary&quot;&gt;&lt;tns1:summary&gt;&lt;xsl:value-of select=&quot;summary&quot;/&gt;&lt;/tns1:summary&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;description&quot;&gt;&lt;tns1:description&gt;&lt;xsl:value-of select=&quot;description&quot;/&gt;&lt;/tns1:description&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;authorName&quot;&gt;&lt;tns1:authorName&gt;&lt;xsl:value-of select=&quot;authorName&quot;/&gt;&lt;/tns1:authorName&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;bookisbn&quot;&gt;&lt;tns1:bookIsbn&gt;&lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&lt;/tns1:bookIsbn&gt;&lt;/xsl:if&gt;&lt;xsl:if test=&quot;date&quot;&gt;&lt;tns1:date&gt;&lt;xsl:value-of select=&quot;date&quot;/&gt;&lt;/tns1:date&gt;&lt;/xsl:if&gt;&lt;/tns1:Event&gt;&lt;/xsl:for-each&gt;&lt;/tns1:Events&gt;&lt;/parameters&gt;&lt;/tns:getEventByISBNResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20141006121028&quot; xmlns:tns1=&quot;http://www.example.org/Events&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getEventByISBN1&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getEventByISBNOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:Events&gt;&#10;            &lt;xsl:for-each select=&quot;$getEventByISBN1/Record&quot;&gt;&#10;                &lt;tns1:Event&gt;&#10;                    &lt;xsl:if test=&quot;id&quot;&gt;&#10;                        &lt;tns1:id&gt;&#10;                            &lt;xsl:value-of select=&quot;id&quot;/&gt;&#10;                        &lt;/tns1:id&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;summary&quot;&gt;&#10;                        &lt;tns1:summary&gt;&#10;                            &lt;xsl:value-of select=&quot;summary&quot;/&gt;&#10;                        &lt;/tns1:summary&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;description&quot;&gt;&#10;                        &lt;tns1:description&gt;&#10;                            &lt;xsl:value-of select=&quot;description&quot;/&gt;&#10;                        &lt;/tns1:description&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;authorName&quot;&gt;&#10;                        &lt;tns1:authorName&gt;&#10;                            &lt;xsl:value-of select=&quot;authorName&quot;/&gt;&#10;                        &lt;/tns1:authorName&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;bookisbn&quot;&gt;&#10;                        &lt;tns1:bookIsbn&gt;&#10;                            &lt;xsl:value-of select=&quot;bookisbn&quot;/&gt;&#10;                        &lt;/tns1:bookIsbn&gt;&#10;                    &lt;/xsl:if&gt;&#10;                    &lt;xsl:if test=&quot;date&quot;&gt;&#10;                        &lt;tns1:date&gt;&#10;                            &lt;xsl:value-of select=&quot;date&quot;/&gt;&#10;                        &lt;/tns1:date&gt;&#10;                    &lt;/xsl:if&gt;&#10;                &lt;/tns1:Event&gt;&#10;            &lt;/xsl:for-each&gt;&#10;        &lt;/tns1:Events&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="2cd6a6e4-37e9-4270-9452-53315bb166c0" label="" linkType="SUCCESS" name="JDBCQueryTogetEventByISBNOut" points="[[180,58],[308,58]]" source="d653b034-be20-4e67-bfa9-214a74b8d945" target="323bdef5-a498-45c6-9211-8e61f80ebecd"/>
            <activity-dir height="48" id="d653b034-be20-4e67-bfa9-214a74b8d945" name="getEventByISBN" type="bw.jdbc.JDBCQuery" width="48" x="131" y="34">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+d653b034-be20-4e67-bfa9-214a74b8d945+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getEventByISBN&quot;/&gt;&lt;xsl:template name=&quot;getEventByISBN-input&quot; match=&quot;/&quot;&gt;&lt;tns:jdbcQueryActivityInput&gt;&lt;isbn&gt;&lt;xsl:value-of select=&quot;$getEventByISBN/parameters/tns1:getEventByISBNRequest/ISBN&quot;/&gt;&lt;/isbn&gt;&lt;/tns:jdbcQueryActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.tibco.com/namespaces/tnt/plugins/jdbc+d653b034-be20-4e67-bfa9-214a74b8d945+input&quot; xmlns:tns1=&quot;http://xmlns.example.com/20141006121028&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getEventByISBN.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getEventByISBN-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns:jdbcQueryActivityInput&gt;&#10;            &lt;isbn&gt;&#10;                &lt;xsl:value-of select=&quot;$getEventByISBN.parameters/ISBN&quot;/&gt;&#10;            &lt;/isbn&gt;&#10;        &lt;/tns:jdbcQueryActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.jdbc.JDBCQuery">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/jdbc#//JDBCQueryActivity"/>
                            <value maxRows="100" sharedResourceProperty="jdbcProperty" sqlStatement="SELECT *&#10;  FROM events&#10;  WHERE bookisbn = ?&#10;" timeout="10" type="jdbcPalette:JDBCQueryActivity">
                                <PreparedParameters DataType="12" DataTypeDisplayValue="VARCHAR" ParameterName="isbn"/>
                                <columnMetadata columnName="summary" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="description" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="authorName" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="bookisbn" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="date" dataType="12" status="OptionalElement" typeName="text"/>
                                <columnMetadata columnName="id" dataType="12" status="OptionalElement" typeName="text"/>
                            </value>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="16" id="05e8037d-2a90-43ce-a745-055e2dd3e412" name="OnMessageEnd5" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
    </pick>
</process-dir>
